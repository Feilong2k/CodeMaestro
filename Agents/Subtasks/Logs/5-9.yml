# Subtask Log: 5-9 (Feature Backlog Migration & UI)
id: "5-9"
title: "Feature Backlog Migration (MD -> DB) & UI"
status: pending
branch: "subtask/5-9-feature-migration"

constraint_discovery:
  subtask_id: "5-9"
  owner: "Devon"
  concern: "Data Integrity & UI"
  date: "2025-12-08"

  atomic_actions:
    - action: "Create DB Schema"
      description: "Create `features` table in PostgreSQL"
    - action: "Parse Markdown"
      description: "Extract sections from `Docs/CodeMaestro_Future_Features.md`"
    - action: "Seed Database"
      description: "Insert parsed features into the new table"
    - action: "Seed User Context"
      description: "Insert `Agents/Seeds/user_context.json` into `memories` table"
    - action: "Create API"
      description: "Endpoints for GET /features and search"
    - action: "Create UI"
      description: "Simple Vue component to list/search/view features"

  resources_touched:
    - resource: "PostgreSQL"
      constraint: "Schema migration"
    - resource: "Documentation"
      constraint: "Source of truth moves from MD to DB"
    - resource: "Frontend"
      constraint: "New 'Features' view"
    - resource: "User Context"
      constraint: "Seed into persistent memory"

  verification:
    - action: "Query Features"
      method: "Select * from features where title = 'AI Council'"
    - action: "UI Test"
      method: "Search for 'AI Council' in the new UI"
    - action: "Query Context"
      method: "Verify user preferences are loaded"

history:
  - ts: "2025-12-08T00:15:00Z"
    role: orchestrator
    action: CREATED
    message: "Log initialized. Moved from Phase 4-14 to Phase 5-9 per user request."
  - ts: "2025-12-08T00:30:00Z"
    role: orchestrator
    action: UPDATED
    message: "Added User Context seeding requirement."
  - ts: "2025-12-08T03:50:00Z"
    role: tester
    action: TESTS_CREATED
    message: "Created failing unit tests for FeaturesService (Red phase). Tests cover getAllFeatures, searchFeatures, getFeatureById."
  - ts: "2025-12-08T03:51:00Z"
    role: tester
    action: HANDOFF
    message: "Committed failing unit tests (Red phase). Ready for Devon to implement FeaturesService, migration, and UI (Green phase)."

requiredActions:
  - "[ ] Create migration `012_create_features_table.sql`"
  - "[ ] Create seeder `backend/src/db/seeds/features_migration.js`"
  - "[ ] Create seeder `backend/src/db/seeds/user_context_seed.js` (Loads `Agents/Seeds/user_context.json`)"
  - "[ ] Run migration and seeds"
  - "[ ] Create API Route `GET /api/features` (supports ?q=search)"
  - "[ ] Create Vue Component `frontend/src/views/Features.vue`"
  - "[ ] Add 'Features' link to Main Navigation"

verificationChecklist:
  - "[x] [TDD] Failing Unit Tests created (Red)"
  - "[ ] [TDD] Implementation satisfies Unit Tests (Green)"
  - "[ ] [TDD] Refactor pass (Cleanup)"
  - "[ ] [TDD] Integration Tests - REQUIRED for this task"
  - "[ ] [TDD] Query returns expected features"
  - "[ ] [TDD] Search filters features correctly"
  - "[ ] [TDD] User Context is correctly accessible from DB"
